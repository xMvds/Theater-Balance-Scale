<!doctype html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Theater Balance Scale — Host</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body class="hostPage hostLocked">
  
  <div class="hostWrap">
    <div class="hostHeader">
      <div>
        <div class="hostTitle">Theater Balance Scale — Host</div>
        <div id="hostHint" class="hostHint">—</div>
      </div>
      <div class="hostBtns">
        <button id="startBtn" class="btn primary">Start</button>
        <button id="revealBtn" class="btn primary">Reveal</button>
        <button id="nextBtn" class="btn primary">Next</button>
        <button id="devFillBtn" class="btn">Dev Fill</button>
        <button id="resetBtn" class="btn">Reset</button>
      </div>
    </div>

    <div id="hostTiles" class="hostTiles"></div>

    <div id="mathRow" class="mathRow"></div>

    <div id="hostRules" class="rulesHost"></div>
  </div>

  <div id="settingsFab" class="settingsFab">
    <div id="settingsPanel" class="settingsPanel hidden">
      <button id="bgEditorBtn" class="debugBtn settingsPanelBtn" type="button">BG editor</button>
      <button id="debugCopyBtn" class="debugBtn settingsPanelBtn" type="button">Kopieer debug</button>
    </div>

    <button id="settingsBtn" class="debugBtn settingsBtn" type="button">⚙ Settings</button>
    <div id="debugToast" class="debugToast hidden">Gekopieerd</div>
  </div>


  <!-- BG editor (host only): live-edit FinisherHeader config for player background (mode C). -->
  <div id="bgEditorModal" class="bgEditorModal hidden" role="dialog" aria-modal="true" aria-label="Background editor">
    <div class="bgEditorCard">
      <div class="bgEditorTop">
        <div>
          <div class="bgEditorTitle">BG editor — Player (C)</div>
          <div class="bgEditorSub">Wijzigingen gaan live naar alle players.</div>
        </div>
        <div class="bgEditorTopBtns">
          <button id="bgEditorCopyBtn" class="btn sm" type="button">Copy JSON</button>
          <button id="bgEditorResetBtn" class="btn sm" type="button">Reset</button>
          <button id="bgEditorCloseBtn" class="btn sm" type="button">✕</button>
        </div>
      </div>

      <div class="bgEditorGrid">
        <div class="bgEditorCol">
          <div class="bgEditorH">Particles</div>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Count</span><span id="bgValCount" class="bgVal">—</span></div>
            <input id="bgCount" type="range" min="1" max="30" step="1"/>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Range of Particle Size (px)</span><span id="bgValSize" class="bgVal">—</span></div>
            <div class="bgTwo">
              <input id="bgSizeMin" type="range" min="20" max="900" step="1"/>
              <input id="bgSizeMax" type="range" min="20" max="1200" step="1"/>
            </div>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Particle Size Variation Speed</span><span id="bgValPulse" class="bgVal">—</span></div>
            <input id="bgPulse" type="range" min="0" max="1" step="0.01"/>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Range of X Axis Speed (max)</span><span id="bgValSpeedX" class="bgVal">—</span></div>
            <input id="bgSpeedX" type="range" min="0" max="0.6" step="0.01"/>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Range of Y Axis Speed (max)</span><span id="bgValSpeedY" class="bgVal">—</span></div>
            <input id="bgSpeedY" type="range" min="0" max="0.6" step="0.01"/>
          </label>
        </div>

        <div class="bgEditorCol">
          <div class="bgEditorH">Colors</div>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Background color</span><span id="bgValBg" class="bgVal">—</span></div>
            <input id="bgBgColor" type="color"/>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Particle color</span><span id="bgValParticle" class="bgVal">—</span></div>
            <input id="bgParticleColor" type="color"/>
          </label>

          <div class="bgCtl">
            <div class="bgCtlRow"><span>Blending Mode</span><span id="bgValBlend" class="bgVal">—</span></div>
            <div class="bgBtnRow">
              <button id="bgBlendNone" class="bgMiniBtn" type="button" data-blend="none">None</button>
              <button id="bgBlendOverlay" class="bgMiniBtn" type="button" data-blend="overlay">Overlay</button>
              <button id="bgBlendScreen" class="bgMiniBtn" type="button" data-blend="screen">Screen</button>
              <button id="bgBlendLighten" class="bgMiniBtn" type="button" data-blend="lighten">Lighten</button>
            </div>
          </div>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Fill Opacity at Particle Center</span><span id="bgValOpCenter" class="bgVal">—</span></div>
            <input id="bgOpCenter" type="range" min="0" max="1" step="0.01"/>
          </label>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Fill Opacity at Particle Edge</span><span id="bgValOpEdge" class="bgVal">—</span></div>
            <input id="bgOpEdge" type="range" min="0" max="1" step="0.01"/>
          </label>
        </div>

        <div class="bgEditorCol">
          <div class="bgEditorH">Other</div>

          <label class="bgCtl">
            <div class="bgCtlRow"><span>Header Skew (degrees)</span><span id="bgValSkew" class="bgVal">—</span></div>
            <input id="bgSkew" type="range" min="-20" max="20" step="1"/>
          </label>

          <div class="bgCtl">
            <div class="bgCtlRow"><span>Shapes</span><span id="bgValShapes" class="bgVal">—</span></div>
            <div class="bgBtnRow">
              <button id="bgShapeC" class="bgMiniBtn" type="button" data-shape="c">○</button>
              <button id="bgShapeS" class="bgMiniBtn" type="button" data-shape="s">□</button>
              <button id="bgShapeT" class="bgMiniBtn" type="button" data-shape="t">△</button>
            </div>
          </div>

          <div class="bgEditorHint">
            Tip: zet eerst BG mode op <b>C</b> in de BG test knoppen om je changes direct te zien.
          </div>
        </div>
      </div>
    </div>
  </div>


  <script src="/socket.io/socket.io.js"></script>
  <script src="host.js"></script>
</body>
</html>
